---
# tasks file for python_pip

- name: Import assert.yml
  ansible.builtin.import_tasks:
    file: assert.yml
  run_once: true
  delegate_to: localhost

- name: Install python pip
  ansible.builtin.package:
    name: "{{ python_pip_packages }}"

- name: Configure pip proxy
  community.general.ini_file:
    path: /etc/pip.conf
    section: global
    option: index-url
    value: "{{ python_pip_proxy }}"
    mode: "0644"
  when:
    - python_pip_proxy is defined

- name: Trust hosts
  community.general.ini_file:
    path: /etc/pip.conf
    section: global
    option: trusted-host
    value: "{{ python_pip_trusted_host }}"
    mode: "0644"
  when:
    - python_pip_trusted_host is defined
